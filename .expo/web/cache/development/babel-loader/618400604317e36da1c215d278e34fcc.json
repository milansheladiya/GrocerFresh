{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Icon from \"@expo/vector-icons/Ionicons\";\nimport AdminProduct from \"../../components/AdminProduct\";\nimport { readAllHandler } from \"../../Firebase/read\";\n\nvar AdminProductScreen = function AdminProductScreen(props) {\n  var _useState = useState(props.navigation.getParam(\"category\")),\n      _useState2 = _slicedToArray(_useState, 2),\n      pageTitle = _useState2[0],\n      setPageTitle = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      prodData = _useState4[0],\n      setProdData = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      firstRender = _useState6[0],\n      setFirstRender = _useState6[1];\n\n  var getProductsByCategoryHandler = function getProductsByCategoryHandler() {\n    var res;\n    return _regeneratorRuntime.async(function getProductsByCategoryHandler$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(readAllHandler([\"grocery\", pageTitle, pageTitle]));\n\n          case 2:\n            res = _context.sent;\n            _context.next = 5;\n            return _regeneratorRuntime.awrap(res.forEach(function (doc) {\n              setProdData(function (prodData) {\n                return [].concat(_toConsumableArray(prodData), [_objectSpread(_objectSpread({}, doc.data()), {}, {\n                  id: doc.id,\n                  category: pageTitle\n                })]);\n              });\n            }));\n\n          case 5:\n            console.log(prodData);\n\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  useEffect(function _callee() {\n    return _regeneratorRuntime.async(function _callee$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            if (firstRender) {\n              _context2.next = 4;\n              break;\n            }\n\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(getProductsByCategoryHandler());\n\n          case 3:\n            setFirstRender(true);\n\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }, [firstRender]);\n  return React.createElement(View, {\n    style: {\n      paddingTop: 60,\n      width: Dimensions.get(\"window\").width,\n      height: Dimensions.get(\"window\").height\n    }\n  }, React.createElement(View, {\n    style: styles.titleOuter\n  }, React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return props.navigation.navigate(\"AdminHomeScreen\");\n    }\n  }, React.createElement(Icon, {\n    name: \"arrow-back\",\n    size: 30,\n    color: \"black\",\n    style: {\n      margin: 10,\n      padding: 11\n    }\n  })), React.createElement(Text, {\n    style: styles.title\n  }, pageTitle, \" \")), React.createElement(FlatList, {\n    style: {\n      alignSelf: \"center\"\n    },\n    showsVerticalScrollIndicator: false,\n    data: prodData,\n    horizontal: false,\n    numColumns: 2,\n    keyExtractor: function keyExtractor(item) {\n      return item.id;\n    },\n    renderItem: function renderItem(item) {\n      return React.createElement(AdminProduct, {\n        item: item,\n        navigation: props.navigation\n      });\n    }\n  }));\n};\n\nvar styles = StyleSheet.create({\n  titleOuter: {\n    backgroundColor: \"#3B6978\",\n    shadowColor: \"black\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.7,\n    shadowRadius: 5,\n    marginBottom: 40,\n    flexDirection: \"row\"\n  },\n  title: {\n    textAlign: \"center\",\n    padding: 20,\n    fontSize: 20,\n    fontStyle: \"italic\",\n    fontWeight: \"bold\",\n    color: \"#FAEEE7\"\n  }\n});\nexport default AdminProductScreen;","map":{"version":3,"sources":["/Users/sahiththota/React-Node Works/ClassWork/GrocerFresh/src/screens/Admin/AdminProductScreen.js"],"names":["React","useEffect","useState","Icon","AdminProduct","readAllHandler","AdminProductScreen","props","navigation","getParam","pageTitle","setPageTitle","prodData","setProdData","firstRender","setFirstRender","getProductsByCategoryHandler","res","forEach","doc","data","id","category","console","log","paddingTop","width","Dimensions","get","height","styles","titleOuter","navigate","margin","padding","title","alignSelf","item","StyleSheet","create","backgroundColor","shadowColor","shadowOffset","shadowOpacity","shadowRadius","marginBottom","flexDirection","textAlign","fontSize","fontStyle","fontWeight","color"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport {\n  View,\n  Text,\n  StyleSheet,\n  TouchableOpacity,\n  FlatList,\n  ScrollView,\n  Dimensions,\n} from \"react-native\";\nimport Icon from \"react-native-vector-icons/Ionicons\";\nimport AdminProduct from \"../../components/AdminProduct\";\nimport { readAllHandler } from \"../../Firebase/read\";\n\nconst AdminProductScreen = (props) => {\n  const [pageTitle, setPageTitle] = useState(\n    props.navigation.getParam(\"category\")\n  );\n  const [prodData, setProdData] = useState([]);\n  const [firstRender, setFirstRender] = useState(false);\n  //setPageTitle(props.category);\n\n  const getProductsByCategoryHandler = async () => {\n    const res = await readAllHandler([\"grocery\", pageTitle, pageTitle]);\n    await res.forEach((doc) => {\n      setProdData((prodData) => [\n        ...prodData,\n        { ...doc.data(), id: doc.id, category: pageTitle },\n      ]);\n    });\n    console.log(prodData);\n  };\n\n  useEffect(async () => {\n    if (!firstRender) {\n      await getProductsByCategoryHandler();\n      setFirstRender(true);\n    }\n  }, [firstRender]);\n\n  return (\n    <View\n      style={{\n        paddingTop: 60,\n        width: Dimensions.get(\"window\").width,\n        height: Dimensions.get(\"window\").height,\n      }}\n    >\n      <View style={styles.titleOuter}>\n        <TouchableOpacity onPress={() => props.navigation.navigate(\"AdminHomeScreen\")}>\n          <Icon\n            name=\"arrow-back\"\n            size={30}\n            color={\"black\"}\n            style={{ margin: 10, padding: 11 }}\n          />\n        </TouchableOpacity>\n        <Text style={styles.title}>{pageTitle} </Text>\n      </View>\n\n      <FlatList\n        style={{ alignSelf: \"center\" }}\n        showsVerticalScrollIndicator={false}\n        data={prodData}\n        horizontal={false}\n        numColumns={2}\n        keyExtractor={(item) => item.id}\n        renderItem={(item) => (\n          <AdminProduct item={item} navigation={props.navigation} />\n        )}\n      />\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  titleOuter: {\n    backgroundColor: \"#3B6978\",\n    // margin: 20,\n    shadowColor: \"black\",\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.7,\n    shadowRadius: 5,\n    // borderRadius:20,\n    marginBottom: 40,\n    flexDirection: \"row\",\n  },\n  title: {\n    textAlign: \"center\",\n    padding: 20,\n    fontSize: 20,\n    fontStyle: \"italic\",\n    fontWeight: \"bold\",\n    color: \"#FAEEE7\",\n  },\n});\n\nexport default AdminProductScreen;\n"]},"metadata":{},"sourceType":"module"}